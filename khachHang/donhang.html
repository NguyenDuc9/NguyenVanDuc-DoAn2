<!DOCTYPE html>
<html lang="vi">
  <head>
    <meta charset="UTF-8" />
    <title>ƒê∆°n h√†ng c·ªßa t√¥i</title>
    <style></style>
    <link rel="stylesheet" href="../CSS/screen1.css" />
    <link rel="stylesheet" href="../CSS/screen2.css" />
    <link rel="stylesheet" href="../CSS/giohang.css" />
  </head>
  <body>
    <div>
      <div style="background-color: white">
        <div class="head1">
          <div style="width: 50%" class="a">
            <a href="main_screen1.html"
              >Ti·ªám hoa Xu√¢n Th√†nh - Uy t√≠n - Chuy√™n nghi·ªáp - Ph·ª•c v·ª• 24/7</a
            >
          </div>
          <div style="width: 10%"></div>
          <div style="width: 30%" class="head1 hide-on-mobile">
            <div>
              <div class="menu-login">
                <div class="menu-button">T√†i kho·∫£n</div>
                <ul class="dropdown">
                  <li><a href="doiMK.html">ƒê·ªïi m·∫≠t kh·∫©u</a></li>
                  <li><a href="Login.html">ƒêƒÉng xu·∫•t</a></li>
                </ul>
              </div>
            </div>
            <div>S·∫£n ph·∫©m</div>
            <div>H·ªá th·ªëng c·ª≠a h√†ng</div>
          </div>
        </div>
        <div class="head2" style="background-color: white">
          <div>
            <img src="../anh/shopXuanThanh.png" alt="" />
          </div>
          <div class="search-box" style="margin-top: 15px">
            
            <input type="text" placeholder="T√¨m ki·∫øm s·∫£n ph·∫©m..." />
            
          </div>
          <div style="width: 20px"></div>
          <div class="DienThoai">
            <div><img src="../anh/dienthoai.png" alt="" /></div>
            <div>
              <p>G·ªçi ƒêi·ªán</p>
              <p style="margin-top: -7px">092.3355.800</p>
            </div>
          </div>
          <div class="DienThoai">
            <div><img src="../anh/dienthoai.png" alt="" /></div>
            <div>
              <p>Li√™n h·ªá zalo</p>
              <p style="margin-top: -7px">092.3355.800</p>
            </div>
          </div>
        </div>
      </div>

      <div class="head1 hide-on-mobile" style="height: 50px; line-height: 50px">
        <div style="margin-left: 12%; width: 27.5%">
          <div class="menu-container">
            <!-- <i class="fas fa-bars"></i> -->
            <div class="menu-title">
              <p style="margin-top: -10px">&#9776; Danh m·ª•c s·∫£n ph·∫©m</p>
            </div>
          </div>

          <!-- Sidebar menu -->
          <div class="sidebar">
            <div class="menu-item">
              Khuy·∫øn m√£i g·ªëc <span class="hot">HOT</span>
            </div>

            <div class="menu-item">
              <span>Hoa T∆∞∆°i ‚ñ∏</span>
              <div class="submenu">
                <div>Hoa c·∫©m ch∆∞·ªõng</div>
                <div>Hoa c·∫©m t√∫ c·∫ßu</div>
                <div>Hoa c√°t t∆∞·ªùng</div>
                <div>Hoa ƒë·ªìng ti·ªÅn</div>
                <div>Hoa h·ªìng</div>
                <div>Hoa H∆∞·ªõng d∆∞∆°ng</div>
                <div>Hoa lan</div>
                <div>Hoa ly</div>
              </div>
            </div>

            <div class="menu-item">
              <span>Ki·ªÉu d√°ng ‚ñ∏</span>
              <div class="submenu">
                <div>Gi·ªè hoa</div>
                <div>B√¨nh hoa</div>
                <div>B√≥ hoa</div>
                <div>Hoa h·ªôp g·ªó</div>
                <div>K·ªá hoa khai</div>
                <div>L√£ng hoa</div>
              </div>
            </div>

            <div class="menu-item">
              <span>Hoa sinh nh·∫≠t ‚ñ∏</span>
              <div class="submenu">
                <div>T·∫∑ng sinh nh·∫≠t b·∫°nb·∫°n</div>
                <div>Hoa t·∫∑ng v·ª£</div>
                <div>Hoa t·∫∑ng x·∫øp</div>
                <div>Hoa t·∫∑ng ƒë·ªìng nghi·ªáp</div>
                <div>T·∫∑ng ng∆∞·ªùi y√™u</div>
              </div>
            </div>

            <div class="menu-item">Hoa Chia Bu·ªìn</div>
            <div class="menu-item">Hoa c·∫£m ∆°n</div>
            <div class="menu-item">Hoa khai tr∆∞∆°ng</div>
            <div class="menu-item">Hoa ng√†y nh√† gi√°o</div>
            <div class="menu-item">Hoa ng√†y ph·ª• n·ªØ</div>
            <div class="menu-item">Hoa t√¨nh y√™u</div>
          </div>
        </div>
        <div style="width: 30%; gap: 15px; line-height: 50px; display: flex">
          <div>Trang ch·ªß</div>
          <div>S·∫£n ph·∫©m</div>
          <div>Gi·ªõi thi·ªáu</div>
          <div>Tin t·ª©c</div>
          <div>Li√™n h·ªá</div>
        </div>
        <div style="width: 25%">
          <a href="shopping_cart.html"> Gi·ªè h√†ng üõí</a>
        </div>
      </div>
    </div>
    <div
      style="
        font-family: Arial, sans-serif;
        background-color: #fff8f0;
        padding: 30px;
        color: #333;
      "
    >
      <h2 style="text-align: center; color: #ff6600">ƒê∆†N H√ÄNG C·ª¶A B·∫†N</h2>

      <div id="order-detail" style="margin-top: 20px"></div>

      <div style="text-align: center; margin-top : 30px;">
        <a
          href="main_screen1.html"
          style="
            background-color: orange;
            color: white;
            padding: 10px 25px;
            border-radius: 8px;
            text-decoration: none;
            font-size: 16px;
          "
          >üè† Quay l·∫°i trang ch·ªß</a
        >
      </div style="text-align: center; margin-top: 30px">
    </div>

    <div id="order-list"></div>

<div id="order-list"></div>

<script>
function loadOrders() {
  const orders = JSON.parse(localStorage.getItem("orders")) || [];
  const listDiv = document.getElementById("order-list");

  if (orders.length === 0) {
    listDiv.innerHTML = `<p style="text-align:center; color:red;">‚ùå Ch∆∞a c√≥ ƒë∆°n h√†ng n√†o.</p>`;
    return;
  }

  let html = "";

  orders.forEach((order, index) => {
    const firstImg = order.gioHang[0]?.image || "https://via.placeholder.com/80";

    html += `
      <div 
        style="
          background:#fff;
          padding:15px;
          border-radius:10px;
          box-shadow:0 2px 8px rgba(0,0,0,0.08);
          margin-bottom:18px;
        "
      >

        <!-- Header -->
        <div style="display:flex; align-items:center; gap:12px;">
          
          <img 
            src="${firstImg}" 
            style="
              width:70px;
              height:70px;
              border-radius:8px;
              object-fit:cover;
              border:1px solid #eee;
            "
          >

          <div style="flex:1;">
            <div><b>M√£ ƒë∆°n:</b> ${order.maDonHang}</div>
            <div><b>Kh√°ch:</b> ${order.khachHang.hoTen}</div>
            <div style="color:#ff4d00; font-weight:bold; font-size:14px;">
              ${order.trangThai}
            </div>
          </div>

          <div style="color:#e60023; font-weight:bold; font-size:16px;">
            ${order.tongTien.toLocaleString()} ƒë
          </div>

        </div>

        <!-- Button -->
        <button
          onclick="toggleDetail(${index})"
          style="
            background:#ff6600;
            color:white;
            padding:8px 14px;
            border:none;
            border-radius:6px;
            margin-top:10px;
            cursor:pointer;
            font-size:14px;
          "
        >
          üëÅ Xem chi ti·∫øt
        </button>

        <!-- Detail -->
        <div 
          id="detail-${index}"
          style="
            margin-top:15px;
            padding:12px;
            border-radius:8px;
            background:#fafafa;
            border:1px solid #eee;
            display:none;
          "
        >

          <p><b>ƒê·ªãa ch·ªâ:</b> ${order.khachHang.diaChi}</p>
          <p><b>SƒêT:</b> ${order.khachHang.soDienThoai}</p>
          <p><b>Ghi ch√∫:</b> ${order.khachHang.ghiChu || "Kh√¥ng c√≥"}</p>

          <h4 style="margin-top:15px;">üì¶ S·∫£n ph·∫©m</h4>

          <table style="width:100%; border-collapse:collapse; margin-top:12px;">
            <tr>
              <th style="border:1px solid #ddd; padding:8px; background:#fff3e0;">·∫¢nh</th>
              <th style="border:1px solid #ddd; padding:8px; background:#fff3e0;">T√™n SP</th>
              <th style="border:1px solid #ddd; padding:8px; background:#fff3e0;">SL</th>
              <th style="border:1px solid #ddd; padding:8px; background:#fff3e0;">Gi√°</th>
              <th style="border:1px solid #ddd; padding:8px; background:#fff3e0;">T·ªïng</th>
            </tr>

            ${order.gioHang.map(sp => `
              <tr>
                <td style="border:1px solid #ddd; padding:8px;">
                  <img 
                    src="${sp.image}" 
                    style="width:60px; height:60px; object-fit:cover; border-radius:5px;"
                  >
                </td>
                <td style="border:1px solid #ddd; padding:8px;">${sp.name}</td>
                <td style="border:1px solid #ddd; padding:8px;">${sp.quantity}</td>
                <td style="border:1px solid #ddd; padding:8px;">${sp.price.toLocaleString()} ƒë</td>
                <td style="border:1px solid #ddd; padding:8px;">
                  ${(sp.price * sp.quantity).toLocaleString()} ƒë
                </td>
              </tr>
            `).join("")}

          </table>
        </div>

      </div>
    `;
  });

  listDiv.innerHTML = html;
}

function toggleDetail(i) {
  const box = document.getElementById("detail-" + i);
  box.style.display = box.style.display === "none" ? "block" : "none";
}

window.addEventListener("DOMContentLoaded", loadOrders);
</script>



  </body>
</html>
